(this.webpackJsonpdrawingboard=this.webpackJsonpdrawingboard||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),s=n(5),i=n.n(s),o=n(4),a=n.n(o),l=n(6),j=n(2),d=n(0),u=function(e){var t=Object(d.jsx)("canvas",{style:{border:"4px solid black",borderRadius:0,backgroundColor:"white"},id:"canvasboard",ref:e.cvsRef});return Object(d.jsx)("section",{style:{display:"flex",justifyContent:"center"},children:t})};n(13);var b=function(){var e=Object(r.useRef)(),t=Object(r.useRef)(!1),n=Object(r.useState)(null),c=Object(j.a)(n,2),s=c[0],i=c[1],o=Object(r.useState)(!1),b=Object(j.a)(o,2),O=b[0],p=b[1],f=Object(r.useRef)(!1),x=Object(r.useRef)(0),h=Object(r.useState)(!1),g=Object(j.a)(h,2),v=g[0],m=g[1],y=Object(r.useRef)(0),C=Object(r.useState)(null),k=Object(j.a)(C,2),w=k[0],R=k[1],S=Object(r.useState)("#"),E=Object(j.a)(S,2),L=E[0],T=E[1];Object(r.useEffect)((function(){var t;i(null===e||void 0===e||null===(t=e.current)||void 0===t?void 0:t.getContext("2d"))}),[e,s]);var W=Object(r.useCallback)((function(e){t.current=!0;var n=[e.offsetX,e.offsetY];x.current=n[0],y.current=n[1]}),[]),B=Object(r.useCallback)((function(){t.current=!1}),[]),D=Object(r.useCallback)((function(){s&&e&&e.current&&(s.clearRect(0,0,e.current.width,e.current.height),R(null),p(!1))}),[e,s]),I=Object(r.useCallback)((function(){e&&e.current&&T(e.current.toDataURL("image/png"))}),[e]),J=Object(r.useCallback)((function(e){if(s){s.beginPath(),s.moveTo(x.current,y.current),s.lineTo(e.offsetX,e.offsetY),s.stroke(),p(!0);var t=[e.offsetX,e.offsetY];x.current=t[0],y.current=t[1]}}),[s]),P=function(){var t=Object(l.a)(a.a.mark((function t(){var n,r,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(O){t.next=2;break}return t.abrupt("return");case 2:return n=e.current.toDataURL(),"http://127.0.0.1:3333/predict",t.next=6,fetch("http://127.0.0.1:3333/predict",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imagestring:n})});case 6:return r=t.sent,t.next=9,r.json();case 9:c=t.sent,R(c.predictedclass);case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),z=Object(r.useCallback)((function(e){t.current&&s&&(f.current?(s.globalCompositeOperation="destination-out",s.lineWidth=6):(s.globalCompositeOperation="source-over",s.lineWidth=2.05),J(e))}),[J,s,t]);Object(r.useEffect)((function(){e&&e.current&&s&&(e.current.addEventListener("mousedown",W),e.current.addEventListener("mousemove",z),e.current.addEventListener("mouseup",B),e.current.addEventListener("mouseout",B),e.current.width=640,e.current.height=480,s.strokeStyle="#000",s.lineJoin="round",s.lineCap="round",s.lineWidth=2.05)}),[e,s,z,W,B]);var F={backgroundColor:"#eee",padding:0,height:window.innerHeight};w&&(F={backgroundColor:"#eee",padding:0});var X=w?Object(d.jsxs)("div",{style:{height:100,width:window.innerWidth,display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"row",paddingBottom:10},children:[Object(d.jsx)("div",{children:Object(d.jsx)("text",{style:{color:"black",fontFamily:"cursive",fontSize:25},children:"The Prediction is:"})}),Object(d.jsx)("div",{style:{padding:15,marginRight:10,marginLeft:20,borderRadius:20,backgroundColor:"black",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(d.jsx)("text",{style:{color:"white",fontFamily:"cursive",fontSize:25},children:w})})]}):null;return Object(d.jsxs)("div",{style:F,children:[Object(d.jsx)("div",{style:{width:"100%",paddingTop:10,paddingBottom:10,textAlign:"center"},children:Object(d.jsx)("p",{style:{fontSize:30,fontWeight:200,fontFamily:"cursive"},children:"Welcome to our Canvas"})}),Object(d.jsx)("div",{children:Object(d.jsx)(u,{cvsRef:e})}),Object(d.jsx)("div",{style:{marginTop:20,paddingBottom:0},children:Object(d.jsx)("nav",{children:Object(d.jsxs)("ul",{children:[Object(d.jsx)("li",{children:Object(d.jsxs)("a",{style:{cursor:"pointer",textDecoration:"none"},download:"image.png",onClick:I,href:L,children:["Save Image",Object(d.jsx)("span",{}),Object(d.jsx)("span",{}),Object(d.jsx)("span",{}),Object(d.jsx)("span",{})]})}),Object(d.jsxs)("li",{onClick:D,style:{cursor:"pointer"},children:["Clear",Object(d.jsx)("span",{}),Object(d.jsx)("span",{}),Object(d.jsx)("span",{}),Object(d.jsx)("span",{})]}),Object(d.jsxs)("li",{onClick:P,style:{cursor:"pointer"},children:["Predict",Object(d.jsx)("span",{}),Object(d.jsx)("span",{}),Object(d.jsx)("span",{}),Object(d.jsx)("span",{})]}),Object(d.jsxs)("li",{onClick:function(e){v||(f.current=!0,m(!0))},style:{cursor:v?"not-allowed":"pointer",border:v?"0.3em solid maroon":"0.3em solid goldenrod"},children:["Eraser",Object(d.jsx)("span",{}),Object(d.jsx)("span",{}),Object(d.jsx)("span",{}),Object(d.jsx)("span",{})]}),Object(d.jsxs)("li",{onClick:function(e){v&&(f.current=!1,m(!1))},style:{cursor:v?"pointer":"not-allowed",border:v?"0.3em solid goldenrod":"0.3em solid maroon"},children:["Brush",Object(d.jsx)("span",{}),Object(d.jsx)("span",{}),Object(d.jsx)("span",{}),Object(d.jsx)("span",{})]})]})})}),Object(d.jsx)("div",{children:X})]})};i.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(b,{})}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.89ff0643.chunk.js.map